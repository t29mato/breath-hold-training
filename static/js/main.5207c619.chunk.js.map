{"version":3,"sources":["App.js","components/Home.js","components/DeepBreathTraining.js","components/BreathHoldTraining.js","components/Tutorial.js","components/News.js","components/Header.js","index.js"],"names":["App","this","path","console","log","process","__dirname","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap__WEBPACK_IMPORTED_MODULE_8__","_components_Header__WEBPACK_IMPORTED_MODULE_14__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","exact","component","Home","DeepBreathTraining","BreathHoldTraining","Tutorial","News","Component","to","_this","Object","_Users_tomoyamatou_dev_bht_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_tomoyamatou_dev_bht_web_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_tomoyamatou_dev_bht_web_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","time","interval","message","startFlag","breathInFlag","finishFlag","breathInterval","breathInInterval","breathOutInterval","breathTimes","audioElem","Audio","setState","playSound","finish","_this2","intervalTimer","setInterval","update","clearInterval","stop","fileName","src","play","_this3","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","variant","now","calculateIntervalProgress","calculateTotalProgress","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","react_bootstrap__WEBPACK_IMPORTED_MODULE_11__","disabled","onClick","start","block","reset","className","info","holdFlag","startButton","finishButton","resetButton","minRestTime","score","striped","bordered","hover","size","href","react_bootstrap__WEBPACK_IMPORTED_MODULE_6__","Body","Header","bg","expand","Brand","Toggle","aria-controls","Collapse","id","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_2__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5207c619.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport { Container } from 'react-bootstrap'\nimport Home from './components/Home'\nimport DeepBreathTraining from './components/DeepBreathTraining'\nimport BreathHoldTraining from './components/BreathHoldTraining'\nimport Tutorial from './components/Tutorial'\nimport News from './components/News'\nimport Header from './components/Header'\n\nclass App extends Component {\n  render() {\n    this.path = (process.env.NODE_ENV === 'production') ? '/breath-hold-training' : '';\n    console.log(process.env.NODE_ENV);\n    console.log(__dirname);\n    return(\n      <BrowserRouter>\n        <Container>\n          <Header/>\n          <Route exact path={this.path + '/'} component={Home} />\n          <Route exact path={this.path + '/deep-breath'} component={DeepBreathTraining} />\n          <Route path={this.path + '/breath-hold'} component={BreathHoldTraining} />\n          <Route path={this.path + '/tutorial'} component={Tutorial} />\n          <Route path={this.path + '/news'} component={News} />\n        </Container>\n      </BrowserRouter>\n    )\n  }\n}\nexport default App","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default class Home extends Component {\n  render() {\n    return (\n      <div>\n        <h2>ホームへようこそ</h2>\n        <p><Link to='./deep-breath'>トレーニングを開始する</Link></p>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, ProgressBar, Alert, Button } from 'react-bootstrap';\n\n/*\n1. 初期画面描画\n2. 開始ボタン押下\n3. 開始5秒前のアナウンス\n4. 開始と同時に吸って5秒\n5. 5秒経過後に、10秒の吐いて\n　- 4, 5の時は常に秒 数が表示される\n6. 150秒経過で終了。\n7. 息止めトレーニングに\n*/\n\nexport default class DeepBreathTraining extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      time: 0,\n      interval: 0,\n      message: '開始ボタンを押してください',\n      startFlag: false,\n      breathInFlag: false,\n      finishFlag: false,\n    }\n    this.breathInterval = 15; // 15秒 (吸って5秒, 吐いて10秒)\n    this.breathInInterval = 5; // 5秒\n    this.breathOutInterval = 10; // 10秒\n    this.breathTimes = 10; // 3回\n    this.audioElem = new Audio();\n  }\n\n  update() {\n    var time = this.state.time;\n    var interval = this.state.interval;\n    if (time === this.breathInterval * this.breathTimes) {\n      this.finish()\n      return;\n    };\n    if (time % this.breathInterval === 0) {\n      this.setState({ interval: interval + 1, message: '吸って〜', breathInFlag: true })\n      this.playSound('BreathIn');\n    }\n    if (time % this.breathInterval === 5) {\n      this.setState({ message: '吐いて〜', breathInFlag: false })\n      this.playSound('BreathOut');\n    }\n    this.setState ({ time: this.state.time + 1 })\n  }\n\n  start() {\n    this.intervalTimer = setInterval(() => this.update(), 1000);\n    this.setState ({ startFlag: true });\n  }\n\n  stop() {\n    clearInterval(this.intervalTimer);\n  }\n\n  reset() {\n    this.stop();\n    this.setState({\n      time: 0,\n      interval: 0,\n      message: '開始ボタンを押してください',\n      startFlag: false,\n      finishFlag: false,\n    });\n  }\n\n  finish() {\n    this.stop();\n    this.setState({\n      finishFlag: true,\n      message: '深呼吸トレーニングは終了です。このまま息止めトレーニングに進みましょう。',\n    })\n    this.playSound('FinishDeepBreathTraining');\n  }\n\n  calculateTotalProgress() {\n    return this.state.time / (this.breathInterval * this.breathTimes) * 100;\n  }\n\n  calculateIntervalProgress() {\n    if (this.state.time % this.breathInterval === 0) {\n      return 0;\n    }\n    if (this.state.breathInFlag) {\n      return (this.state.time % this.breathInterval) / this.breathInInterval * 100;\n    } else {\n      return (this.breathInterval - this.state.time % this.breathInterval) / this.breathOutInterval * 100;\n    }\n  }\n\n  playSound(fileName) {\n    this.audioElem.src = 'mp3/' + fileName + '.mp3';\n    this.audioElem.play();\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>深呼吸トレーニングへようこそ</h2>\n        <Alert variant={'primary'}>\n          { this.state.message }\n        </Alert>\n        <ProgressBar now={ this.calculateIntervalProgress() }/>\n        <p></p>\n        <h5>トレーニング時間：{ this.state.time }秒 ({ this.state.interval }サイクル目)</h5>\n        <ProgressBar now={ this.calculateTotalProgress() } />\n        <p></p>\n        <Row>\n          <Col>\n            <Button\n              variant=\"primary\"\n              disabled={this.state.startFlag}\n              onClick={ () => this.start() }\n              block\n            >\n              開始\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              variant=\"dark\"\n              disabled={!this.state.startFlag}\n              onClick={ () => this.reset() }\n              block\n            >\n              リセット\n            </Button>\n          </Col>\n        </Row>\n        <div\n          className={ this.state.finishFlag ? '': 'd-none' }\n        >\n        <Link to='/breath-hold'>息止めトレーニングに進む</Link></div>\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, Alert, Table, Button } from 'react-bootstrap';\n\n/*\n0. 描画\n1. 息止めトレーニングの開始ボタン押下\n2. タイマー開始\n3. 息が続かなくなったらタイマーを手動で停止させる\n4. 息止めていた時間だけ、もしくは最低2分間、休憩してもらう\n5. 休憩時間が終了したら息どめ開始が押せるようになる\n6. 3かい繰り返したら、終了\n7. 結果を表示する\n*/\n\nexport default class BreathHoldTraining extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      time: 0,\n      interval: 0,\n      message: '開始ボタンを押してください',\n      info: '息止め時間',\n      startFlag: false,\n      holdFlag: false,\n      finishFlag: false,\n      startButton: true,\n      finishButton: false,\n      resetButton: false,\n    }\n    this.interval = 3; // 3回で終了\n    this.minRestTime = 120; // 最低120秒(2分間)は休憩する\n    this.score = [];\n    this.audioElem = new Audio();\n  }\n\n  update() {\n    if (this.state.holdFlag) { // 息止め中\n      this.setState ({ time: this.state.time + 1 })\n    } else { // 休憩中\n      if (this.state.time > 0) {\n        this.setState ({ time: this.state.time - 1 })\n      } else { // 休憩終了\n        this.stop();\n        this.setState({\n          startButton: true,\n          message: this.state.interval + '回目の休憩終了です、練習再開できます。',\n        });\n        this.playSound('FinishRestTime');\n      }\n    }\n  }\n\n  start() {\n    this.intervalTimer = setInterval(() => this.update(), 1000);\n    this.setState ({\n      startFlag: true,\n      holdFlag: true,\n      startButton: false,\n      finishButton: true,\n      resetButton: false,\n      interval: this.state.interval + 1,\n      message: '息止め終了と同時に終了ボタンを押してください。'\n    });\n  }\n\n  stop() {\n    clearInterval(this.intervalTimer);\n  }\n\n  reset() {\n    this.stop();\n    this.setState({\n      time: 0,\n      interval: 0,\n      message: '開始ボタンを押してください',\n      info: '息止め時間',\n      startFlag: false,\n      holdFlag: false,\n      finishFlag: false,\n      startButton: true,\n      finishButton: false,\n      resetButton: false,\n    });\n    this.score = [];\n  }\n\n  finish() {\n    this.score += this.state.time;\n    if (this.state.interval === this.interval) { // 3回終了\n      this.stop();\n      this.setState({\n        startButton: false,\n        finishButton: false,\n        resetButton: true,\n        message: 'トレーニングは終了です、お疲れ様でした。',\n      })\n    } else { // 3回未満\n      this.setState({\n        time: this.state.time > this.minRestTime ? this.state.time : this.minRestTime,\n        holdFlag: false,\n        finishButton: false,\n        resetButton: true,\n        info: '残り休憩時間',\n      })\n      this.setState({\n        message: this.state.interval + '回目の息止め終了。息止め時間か最低2分間の休憩が必要なためカウントダウン開始します。',\n      })\n      this.playSound('StartCountDown');\n    }\n  }\n\n  playSound(fileName) {\n    this.audioElem.src = 'mp3/' + fileName + '.mp3';\n    this.audioElem.play();\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h2>息止めトレーニングへようこそ</h2>\n        <Alert variant={'primary'}>\n          { this.state.message }\n        </Alert>\n        <h5>{ this.state.info }：{ this.state.time }秒 ({ this.state.interval }回目)</h5>\n        <p></p>\n        <Table striped bordered hover size=\"sm\">\n          <thead>\n            <tr>\n              <th>1回目</th>\n              <th>2回目</th>\n              <th>3回目</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>{ this.score[0] > 0 ? this.score[0] + '秒' : '' } </td>\n              <td>{ this.score[1] > 0 ? this.score[1] + '秒' : '' } </td>\n              <td>{ this.score[2] > 0 ? this.score[2] + '秒' : '' } </td>\n            </tr>\n          </tbody>\n        </Table>\n\n        <Row>\n        <Col>\n            <Button\n              variant=\"primary\"\n              disabled={ !this.state.startButton }\n              onClick={ () => this.start() }\n              block\n            >\n              開始\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              variant=\"dark\"\n              disabled={ !this.state.finishButton }\n              onClick={ () => this.finish() }\n              block\n            >\n              終了\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              variant=\"dark\"\n              disabled={ !this.state.resetButton }\n              onClick={ () => this.reset() }\n              block\n            >\n              リセット\n            </Button>\n          </Col>\n        </Row>\n        <div\n          className={ this.state.finishFlag ? '': 'd-none' }\n        >\n        <Link to='/breath-hold'>息止めトレーニングに進む</Link></div>\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react'\n\nexport default class Tutorial extends Component {\n  render() {\n    return (\n      <div>\n        <h2>使い方</h2>\n        <h5>深呼吸トレーニング</h5>\n        <p>5秒吸って、10秒吐いてを10回繰り返します。</p>\n        <h5>息止めトレーニング</h5>\n        <p>息止めを3回繰り返します。安全のために息を止めた時間もしくは最低2分間休憩してから息止めを再開してもらいます。</p>\n        <p>\n          [参考サイト]<br/>\n          ・<a href=\"http://derutoruasobu.com/ikitome/\">水中で2分以上息が止められるようになる、たった２つの方法</a><br/>\n          ・<a href=\"https://clowncrown.ti-da.net/e5573112.html\">息を長く止める方法</a><br/>\n          ・<a href=\"http://xn--u9jvc514pqwklyidyu.com/?page_id=944\">素潜りのコツ：息を長持ちさせるコツ３ポイント</a><br/>\n        </p>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Card } from 'react-bootstrap'\n\nexport default class News extends Component {\n  render() {\n    return (\n      <div>\n        <h2>新着情報</h2>\n        <Card>\n          <Card.Body>・2018/10/22(月)<br/>公開しました。</Card.Body>\n        </Card>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Navbar, Nav }from 'react-bootstrap'\n\nexport default class Header extends Component {\n  render() {\n    return (\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand>Breath Hold Training (0.0.14)</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <Link className='nav-link' to='./'>ホーム</Link>\n            <Link className='nav-link' to='./deep-breath'>深呼吸トレーニング</Link>\n            <Link className='nav-link' to='./breath-hold'>息止めトレーニング</Link>\n            <Link className='nav-link' to='./tutorial'>使い方</Link>\n            <Link className='nav-link' to='./news'>新着情報</Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    )\n  }\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}